webpackJsonp([2,0],{0:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=s(65),a=n(i),o=s(64),r=n(o),c=s(62),d=n(c);a["default"].use(r["default"]),new a["default"]({el:"body",components:{App:d["default"]}})},25:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),s(40);var i=s(63),a=n(i),o=s(53),r=n(o),c=s(54),d=n(c),l=s(55),u=n(l),p=s(56),h=n(p),f=s(57),m=n(f),g=s(58),v=n(g);t["default"]={ready:function(){var e=[{components:[r["default"]],msg:"Craving for more than campus food? Fortunately, you have FooPar Beta!"},{components:[d["default"]],msg:"Try our catering service for a variety of snacks and refreshments for functions"},{components:[u["default"]],msg:"Simply choose from our lunch selection to avoid queues in the canteens"},{components:[h["default"]],msg:"Anytime you feel like eating off-campus foods, don't hesitate to tell us."},{components:[v["default"],m["default"]],msg:""}];this.$refs.carousel.setData(e)},components:{Carousel:a["default"]}}},26:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=s(48),a=n(i),o=s(12),r=n(o);t["default"]={ready:function(){var e=this;this.socket=new a["default"]("/ALBUMN"),this.socket.on("connect",function(){e.socket.emit("login",{roomName:"design-thinking"})}),this.socket.on("moveSlides",this.setCurrentSlide),this.socket.on("message",this.receiveMessage),this.socket.on("unReadMessage",this.receiveUnReadMessage),this.socket.on("decay",this.handleDecay),this.hammer=new r["default"](this.$els.wraper),this.hammer.on("swipeleft swiperight panleft panright panend pancancel",this.hammerHandler)},socket:null,hammer:null,data:function(){return{currentSlideIndex:0,images:[],imageComponentsStyle:[],imagesCount:0,wraperTransition:{transition:!0},carouselWraperStyle:{left:"0%",width:0},slideWidth:0,unReadMessage:[],panBoundaryRatio:.25}},methods:{setData:function(e){var t=this;this.images=e,this.images.forEach(function(e,s){var n=[];e.components.forEach(function(e){n.push({opacity:1,backgroundImage:"radial-gradient(60% 60%, rgba(0, 0, 0, 0.6) 0%,\n                        rgba(0, 0, 0, 0) 95%), url("+e+")"})}),t.imageComponentsStyle.push(n)}),this.imagesCount=this.images.length,this.carouselWraperStyle.width=100*this.imagesCount+"%",this.$nextTick(function(){t.slideWidth=t.$els.wraper.clientWidth/t.imagesCount})},drawImagesToCanvas:function(){var e=this;this.images.forEach(function(t,s){var n=e.$els.wraper.querySelector("#canvas-"+s),i=n.getContext("2d"),a=new Image;a.onload=function(){i.drawImage(a,0,0),i.fillRect(0,0,500,500)},a.src=t.img})},setCurrentSlide:function(e){this.currentSlideIndex=e,this.carouselWraperStyle.left=-100*this.currentSlideIndex+"%"},moveSlides:function(e){var t=this,s=arguments.length<=1||void 0===arguments[1]||arguments[1];this.wraperTransition.transition=s,this.$nextTick(function(){t.setCurrentSlide(e)}),this.socket.emit("moveSlides",e)},sendMessage:function(){this.socket.emit("sendMessage","this is a message "+Math.random())},receiveMessage:function(e){e.id&&(this.imageComponentsStyle[4][1].opacity-=.1,this.unReadMessage.push(e))},readMessage:function(){this.imageComponentsStyle[4][1].opacity+=.1;var e=this.unReadMessage.shift();this.socket.emit("readMessage",e.id)},receiveUnReadMessage:function(e){e&&e.forEach(this.receiveMessage)},handleDecay:function(e){console.log(e)},hammerHandler:function(e){switch(e.type){case"swipeleft":case"swiperight":this.handleSwipe(e);break;case"panleft":case"panright":case"panend":case"pancancel":this.handlePan(e)}},handleSwipe:function(e){switch(e.direction){case 4:this.currentSlideIndex>0&&--this.currentSlideIndex;break;case 2:this.currentSlideIndex<this.imagesCount-1&&++this.currentSlideIndex}this.moveSlides(this.currentSlideIndex),this.hammer.stop(!0)},handlePan:function(e){switch(e.type){case"panleft":case"panright":var t=this.carouselWraperStyle.left.slice(0,-1),s=100*(this.imagesCount-1);(0===this.currentSlideIndex&&t>=0||this.currentSlideIndex===this.imagesCount-1&&t<=s)&&(e.deltaX*=.2),this.wraperTransition.transition=!1,this.carouselWraperStyle.left=-100*(this.currentSlideIndex-e.deltaX/this.slideWidth)+"%";break;case"panend":case"pancancel":Math.abs(e.deltaX)>this.slideWidth*this.panBoundaryRatio&&(e.deltaX>0?this.currentSlideIndex>0&&--this.currentSlideIndex:this.currentSlideIndex<this.imagesCount-1&&++this.currentSlideIndex),this.moveSlides(this.currentSlideIndex)}}}}},40:function(e,t){},41:function(e,t){},42:function(e,t){},53:function(e,t,s){e.exports=s.p+"image/1.0a4e2db.jpg"},54:function(e,t,s){e.exports=s.p+"image/2.7503544.jpg"},55:function(e,t,s){e.exports=s.p+"image/3.5229f93.jpg"},56:function(e,t,s){e.exports=s.p+"image/4.9f6b5fe.jpg"},57:function(e,t,s){e.exports=s.p+"image/5.ad6c3d5.jpg"},58:function(e,t,s){e.exports=s.p+"image/6.e8de652.jpg"},60:function(e,t){e.exports='<div class=carousel _v-6b753e81=""> <ol class=carousel-indicators _v-6b753e81=""> <li v-for="image in images" :class="{active: $index===currentSlideIndex }" @click=moveSlides($index) _v-6b753e81=""></li> </ol> <div class=carousel-inner _v-6b753e81=""> <div class=carousel-wraper :class=wraperTransition :style=carouselWraperStyle v-el:wraper="" _v-6b753e81=""> <div v-for="(imageIndex, image) in images" class=image :class="{active:$index === currentSlideIndex}" :style="{\nwidth: `${100 /imagesCount}%`\n            }" _v-6b753e81=""> <div v-for="(componentIndex,componentSrc) in image.components" class=image-component :style=imageComponentsStyle[imageIndex][componentIndex] _v-6b753e81=""> <p _v-6b753e81="">{{image.msg}}</p> </div> </div> </div> </div> <button @click=sendMessage _v-6b753e81="">Send</button> <button @click=readMessage _v-6b753e81="">Listen</button> <ul id=messages _v-6b753e81=""> <li v-for="msg in unReadMessage" _v-6b753e81="">{{msg.content}}</li> </ul> </div>'},61:function(e,t){e.exports="<div id=app> <carousel v-ref:carousel></carousel> </div>"},62:function(e,t,s){var n,i;s(41),n=s(25),i=s(61),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},63:function(e,t,s){var n,i;s(42),n=s(26),i=s(60),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)},67:function(e,t){}});
//# sourceMappingURL=app.4a5ee9af8c2d8009dea0.js.map